<!DOCTYPE html>
<html>
<head>
<title>Avoidance of duplication of beneficiaries - Upload Details</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='styles/complete.css') }}">
</head>
<body class="container-fluid">
    
    <div class="row">
        <div class="col-sm-6" id="main" >
            <div>
                <div class="page-header">
                <h1><b>Scan the QR Code</b></h1>
                </div>
            </div>
            <form id="upload-form" action="{{ url_for('upload') }}" method="POST" enctype="multipart/form-data" class="form-horizontal">
                <div class="form-group">
                <div class="col-sm-8">
                    <input id="file-picker" type="file" name="file" accept="XML/*" multiple class="form-control-file" >
                </div>
                </div>
                <div class="form-group">
                    <textarea class="form-control" rows="5" id="msg" readonly></textarea>
                </div>
                <input type="submit" value="Upload!" id="upload-button" class="btn btn-primary btn-block btn-lg">
            </form>
        </div>
        <div class="col-sm-6" style="height: 100%">

                <div id="myCarousel" class="carousel slide" data-ride="carousel" style="height: 100%">
                <!-- Indicators -->
                    <ol class="carousel-indicators">
                        <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                        <li data-target="#myCarousel" data-slide-to="1"></li>
                        <li data-target="#myCarousel" data-slide-to="2"></li>
                    </ol>

                <!-- Wrapper for slides -->
                    <div class="carousel-inner">
                        <div class="item active">
                            <img src="/static/img/Image1.jpg" alt="Gujarat" style="height: 100%;">
                        </div>

                        <div class="item">
                            <img src="/static/img/Image2.jpg" alt="Gujarat" style="height: 100%;">
                        </div>

                        <div class="item">
                            <img src="/static/img/Image3.jpg" alt="Gujarat" style="height: 100%;">
                        </div>
                    </div>

                    <!-- Left and right controls -->
                    <a class="left carousel-control" href="#myCarousel" data-slide="prev">
                        <span class="glyphicon glyphicon-chevron-left"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="right carousel-control" href="#myCarousel" data-slide="next">
                    <span class="glyphicon glyphicon-chevron-right"></span>
                    <span class="sr-only">Next</span>
                     </a>
                </div>
    
        </div>
    </div>
    

</body>


<script>
    $("#file-picker").change(function(){
        var input = document.getElementById('file-picker');
        for (var i=0; i<input.files.length; i++)
        {
        //koala.jpg, koala.JPG substring(index) lastIndexOf('a') koala.1.jpg
            var ext= input.files[i].name.substring(input.files[i].name.lastIndexOf('.')+1).toLowerCase()
            if (ext == 'xml')
            {
                $("#msg").text("Files are supported")
            }
            else
            {
                $("#msg").text("Files are NOT supported")
                document.getElementById("file-picker").value ="";
            }
        }
    } );
</script>
</html>